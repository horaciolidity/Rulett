<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pizarra de Premios</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="registro" style="display:none;">
    <h2>Registro</h2>
    <input type="text" id="registroUsuario" placeholder="Usuario">
    <input type="password" id="registroContrasena" placeholder="Contraseña">
    <button id="btnRegistro">Registrarse</button>
    <p>¿Ya tienes cuenta? <span id="irALogin" style="cursor:pointer; color:blue;">Iniciar sesión</span></p>
</div>

<div id="login" style="display:none;">
    <h2>Iniciar Sesión</h2>
    <input type="text" id="loginUsuario" placeholder="Usuario">
    <input type="password" id="loginContrasena" placeholder="Contraseña">
    <button id="btnLogin">Iniciar Sesión</button>
    <p>¿No tienes cuenta? <span id="irARegistro" style="cursor:pointer; color:blue;">Registrarse</span></p>
</div>
    <div id="game-container" style="display:none;">


    <h1>Gana Worldcoin</h1>
        <p>Jugar es muy sencillo</p>
    <div id="vidas">Oportunidades: 3</div>
    <div id="pizarra"></div>
    <button id="recargar">Recargar Oportunidades</button>

    <h2>Premios obtenidos:</h2>
    <div id="premiosObtenidos"></div>


  <style>body {
    font-family: 'Arial', sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    background-color: #f4f4f4;
    text-align: center;
    margin: 0; /* Asegurarse de que no hay margen exterior */
}

h1, h2 {
    color: #333;
}

input[type="text"], input[type="password"] {
    padding: 10px;
    margin: 10px 0;
    border: 1px solid #ccc;
    border-radius: 5px;
    width: 80%; /* Ajusta al tamaño deseado */
}

button {
    background-color: #007bff;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

button:hover {
    background-color: #0056b3;
}

#pizarra {
    display: grid;
    grid-template-columns: repeat(4, 100px);
    gap: 10px;
}

.casillero {
    width: 100px;
    height: 100px;
    background-color: #ddd;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    border: none; /* Removido para un diseño más limpio */
    font-size: 20px;
    color: #333;
    transition: transform 0.3s ease;
    border-radius: 10px; /* Bordes redondeados */
}

.casillero:hover {
    transform: scale(1.1); /* Efecto de crecimiento al pasar el mouse */
    background-color: #ccc; /* Cambio de color al pasar el mouse */
}

.revelado {
    background-color: #4CAF50;
    color: white;
}

#vidas, #premiosObtenidos {
    margin: 20px;
    font-size: 20px;
}

#premiosObtenidos {
    margin-top: 10px;
}

span {
    font-weight: bold;
    text-decoration: underline;
}



</style>
    
</body>
  <script>
     let oportunidades = 3;
     let premios = ['Premio 1', 'Premio 2', 'Premio 3', 'Premio 4']; // Ajusta según tu juego
     let premiosObtenidos = [];
 
      
      
      document.addEventListener('DOMContentLoaded', () => {

        mostrarRegistro(); // Muestra la pantalla de registro por defecto

    // Maneja el registro de usuarios
    document.getElementById('btnRegistro').addEventListener('click', function() {
        const usuario = document.getElementById('registroUsuario').value;
        const contrasena = document.getElementById('registroContrasena').value;
        if (usuario && contrasena) {
            const userData = {
                username: usuario,
                password: contrasena
            };
            localStorage.setItem(usuario, JSON.stringify(userData));
            alert('Registro exitoso. Por favor, inicie sesión.');
            mostrarLogin();
        } else {
            alert('Por favor, complete todos los campos.');
        }
    });

    // Maneja el inicio de sesión
    document.getElementById('btnLogin').addEventListener('click', function() {
        const usuario = document.getElementById('loginUsuario').value;
        const contrasena = document.getElementById('loginContrasena').value;
        const userData = localStorage.getItem(usuario);
        if (userData) {
            const userInfo = JSON.parse(userData);
            if (userInfo.password === contrasena) {
                alert('Inicio de sesión exitoso.');
                document.getElementById('login').style.display = 'none';
                document.getElementById('game-container').style.display = 'block';
                inicializarPizarra(); // Inicializa el juego tras el inicio de sesión
            } else {
                alert('Contraseña incorrecta');
            }
        } else {
            alert('Usuario no encontrado');
        }
    });

    // Cambia a la vista de registro
    document.getElementById('irARegistro').addEventListener('click', function() {
        mostrarRegistro();
    });

    // Cambia a la vista de inicio de sesión
    document.getElementById('irALogin').addEventListener('click', function() {
        mostrarLogin();
    });

    function mostrarLogin() {
        document.getElementById('login').style.display = 'block';
        document.getElementById('registro').style.display = 'none';
        document.getElementById('game-container').style.display = 'none';
    }

    function mostrarRegistro() {
        document.getElementById('registro').style.display = 'block';
        document.getElementById('login').style.display = 'none';
        document.getElementById('game-container').style.display = 'none';
    }


    document.getElementById('recargar').addEventListener('click', function() {
        oportunidades = 3; // Restablece las oportunidades a 3
        premiosObtenidos = []; // Limpia los premios obtenidos
        actualizarOportunidades();
        mostrarPremiosObtenidos();
        // Opcional: Restablecer los casilleros para permitir una nueva selección
    });
    // Actualiza el texto de oportunidades restantes
    function actualizarOportunidades() {
        document.getElementById('vidas').innerText = `Oportunidades: ${oportunidades}`;
    }

    // Agrega los premios obtenidos al contenedor correspondiente
    function mostrarPremiosObtenidos() {
        document.getElementById('premiosObtenidos').innerText = premiosObtenidos.join(', ');
    }

    // Función para manejar el click en un casillero
    function elegirCasillero(event) {
        if (oportunidades > 0) {
            const casillero = event.target;
            const premio = casillero.getAttribute('data-premio');
            premiosObtenidos.push(premio);
            casillero.innerText = premio;
            casillero.style.pointerEvents = 'none'; // Deshabilitar más clicks en este casillero
            casillero.style.backgroundColor = '#ddd'; // Cambio visual para indicar que este casillero ya fue elegido
            oportunidades--;
            actualizarOportunidades();
            mostrarPremiosObtenidos();

            if (oportunidades === 0) {
                // Opcional: Mostrar mensaje final o deshabilitar todos los casilleros
                alert('No quedan más oportunidades');
            }
        }
    }
   

    // Inicialización de la pizarra de premios
    function inicializarPizarra() {
        const pizarra = document.getElementById('pizarra');
        for (let i = 0; i < premios.length; i++) {
            const casillero = document.createElement('div');
            casillero.classList.add('casillero');
            casillero.setAttribute('data-premio', premios[i]);
            casillero.addEventListener('click', elegirCasillero);
            pizarra.appendChild(casillero);
        }
        actualizarOportunidades();
    }

    inicializarPizarra();
});

</script>
</html>
